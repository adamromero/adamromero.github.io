{"version":3,"file":"bundle.c05305a50dedc7b21d2a.js","mappings":"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","sources":["webpack://adamromero.com/./src/app.js"],"sourcesContent":["import \"./stylesheets/style.scss\";\n\nvar app = (function () {\n   var s;\n   var app = {\n      settings: {\n         header: document.querySelector(\".header\"),\n         navTab: document.querySelector(\".header__nav\"),\n         scrollDown: document.getElementById(\"scrollDown\"),\n         contentTop: document.querySelector(\".content\"),\n         navLine: document.querySelector(\".navigation-line\"),\n         triggerMenu: document.getElementById(\"triggerMenu\"),\n         projectItems: document.querySelectorAll(\".content__overlay\"),\n         year: document.getElementById(\"year\"),\n         form: document.getElementById(\"contactForm\"),\n         mobileBreakPoint: 768,\n         scrollAboveIntro: false,\n         scrollBelowIntro: false,\n         previousScrollPosition: 0,\n         previousActiveElement: null,\n      },\n\n      init: function () {\n         s = this.settings;\n         s.year.innerHTML = new Date().getFullYear();\n         this.initFlickity();\n         this.bindUIActions();\n      },\n\n      initFlickity: function () {\n         var flky = new Flickity(\".gallery\", {\n            // options, defaults listed\n\n            accessibility: true,\n            // enable keyboard navigation, pressing left & right keys\n\n            adaptiveHeight: true,\n            // set carousel height to the selected slide\n\n            autoPlay: false,\n            // advances to the next cell\n            // if true, default is 3 seconds\n            // or set time between advances in milliseconds\n            // i.e. `autoPlay: 1000` will advance every 1 second\n\n            cellAlign: \"center\",\n            // alignment of cells, 'center', 'left', or 'right'\n            // or a decimal 0-1, 0 is beginning (left) of container, 1 is end (right)\n\n            cellSelector: undefined,\n            // specify selector for cell elements\n\n            contain: false,\n            // will contain cells to container\n            // so no excess scroll at beginning or end\n            // has no effect if wrapAround is enabled\n\n            draggable: \">1\",\n            // enables dragging & flicking\n            // if at least 2 cells\n\n            dragThreshold: 3,\n            // number of pixels a user must scroll horizontally to start dragging\n            // increase to allow more room for vertical scroll for touch devices\n\n            freeScroll: false,\n            // enables content to be freely scrolled and flicked\n            // without aligning cells\n\n            friction: 0.2,\n            // smaller number = easier to flick farther\n\n            groupCells: false,\n            // group cells together in slides\n\n            initialIndex: 0,\n            // zero-based index of the initial selected cell\n\n            lazyLoad: true,\n            // enable lazy-loading images\n            // set img data-flickity-lazyload=\"src.jpg\"\n            // set to number to load images adjacent cells\n\n            percentPosition: true,\n            // sets positioning in percent values, rather than pixels\n            // Enable if items have percent widths\n            // Disable if items have pixel widths, like images\n\n            prevNextButtons: true,\n            // creates and enables buttons to click to previous & next cells\n\n            pageDots: true,\n            // create and enable page dots\n\n            resize: true,\n            // listens to window resize events to adjust size & positions\n\n            rightToLeft: false,\n            // enables right-to-left layout\n\n            setGallerySize: true,\n            // sets the height of gallery\n            // disable if gallery already has height set with CSS\n\n            watchCSS: false,\n            // watches the content of :after of the element\n            // activates if #element:after { content: 'flickity' }\n\n            wrapAround: false,\n            // at end of cells, wraps-around to first for infinite scrolling\n         });\n      },\n\n      validateContactForm: function () {\n         let inputName = document.getElementById(\"name\"),\n            inputEmail = document.getElementById(\"email\"),\n            inputMessage = document.getElementById(\"message\"),\n            validName = false,\n            validEmail = false,\n            validMessage = false;\n\n         inputName.addEventListener(\"change\", function (e) {\n            if (e.keyCode !== 9 && e.keyCode !== 16) {\n               validName = app.validInput(app.validName, inputName);\n               app.handleSubmitButtonAccess(\n                  validName,\n                  validEmail,\n                  validMessage\n               );\n            }\n         });\n\n         inputEmail.addEventListener(\"change\", function (e) {\n            if (e.keyCode !== 9 && e.keyCode !== 16) {\n               validEmail = app.validInput(app.validEmail, inputEmail);\n               app.handleSubmitButtonAccess(\n                  validName,\n                  validEmail,\n                  validMessage\n               );\n            }\n         });\n\n         inputMessage.addEventListener(\"input\", function (e) {\n            if (e.keyCode !== 9 && e.keyCode !== 16) {\n               validMessage = app.validMessage(inputMessage);\n               app.handleSubmitButtonAccess(\n                  validName,\n                  validEmail,\n                  validMessage\n               );\n            }\n         });\n\n         s.form.addEventListener(\"submit\", app.handleContactFormSubmission);\n      },\n\n      handleSubmitButtonAccess: function (validName, validEmail, validMessage) {\n         if (validName && validEmail && validMessage) {\n            document.getElementById(\"submitButton\").removeAttribute(\"disabled\");\n         } else {\n            document\n               .getElementById(\"submitButton\")\n               .setAttribute(\"disabled\", \"disabled\");\n         }\n      },\n\n      validInput: function (valid, input) {\n         if (!valid(input.value)) {\n            //this.displayErrorMark(input);\n            return false;\n         } else {\n            //this.displaySuccessMark(input);\n         }\n         return true;\n      },\n\n      validName: function (name) {\n         return name !== \"\";\n      },\n\n      validEmail: function (email) {\n         return /^[-a-z0-9~!$%^&*_=+}{\\'?]+(\\.[-a-z0-9~!$%^&*_=+}{\\'?]+)*@([a-z0-9_][-a-z0-9_]*(\\.[-a-z0-9_]+)*\\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}))(:[0-9]{1,5})?$/i.test(\n            email\n         );\n      },\n\n      validMessage: function (message) {\n         if (\n            message.value !== \"\" &&\n            message.value.length >= 10 &&\n            message.value.length <= 400\n         ) {\n            //message.removeClass('error').addClass('success');\n            //message.next('.contact-form__error').addClass('hide');\n            return true;\n         } else {\n            //message.removeClass('success').addClass('error');\n            //message.next('.contact-form__error').removeClass('hide');\n         }\n         return false;\n      },\n\n      handleContactFormSubmission: async function (event) {\n         event.preventDefault();\n         var status = document.getElementById(\"formStatus\");\n         var data = new FormData(event.target);\n\n         fetch(event.target.action, {\n            method: s.form.method,\n            body: data,\n            headers: {\n               Accept: \"application/json\",\n            },\n         })\n            .then((response) => {\n               status.innerHTML = \"Thanks for your submission!\";\n               s.form.reset();\n            })\n            .catch((error) => {\n               status.innerHTML =\n                  \"Error! There was a problem submitting your form.\";\n            });\n      },\n\n      closeProjectDetails: function () {\n         document\n            .querySelector(\".project-details\")\n            .classList.remove(\"is-active\");\n         document.querySelector(\".overlay\").classList.remove(\"is-active\");\n         document\n            .querySelector(\".content__overlay.is-active\")\n            .classList.remove(\"is-active\");\n         s.previousActiveElement.focus();\n      },\n\n      respondToVisibility: function (element, callback) {\n         console.log(element);\n         var options = {\n            root: document.documentElement,\n         };\n\n         var observer = new IntersectionObserver((entries, observer) => {\n            entries.forEach((entry) => {\n               callback(entry.intersectionRatio > 0);\n            });\n         }, options);\n\n         observer.observe(element);\n      },\n\n      openProject: function (element) {\n         element.classList.add(\"is-active\");\n         document.querySelector(\".project-details\").classList.add(\"is-active\");\n         document.querySelector(\".overlay\").classList.add(\"is-active\");\n         document.querySelector(\".project-details__text\").innerHTML =\n            element.nextElementSibling.innerHTML;\n\n         app.respondToVisibility(element.nextElementSibling, (visible) => {\n            const feedbackEl = document.querySelector(\".gallery\");\n            if (visible) {\n               app.initFlickity();\n            }\n         });\n\n         setTimeout(function () {\n            app.trapFocusInModal();\n            app.initFlickity();\n         }, 0);\n      },\n\n      trapFocusInModal: function () {\n         const indexForLastLink = document.querySelectorAll(\n            \".project-details.is-active .project-details__link\"\n         ).length;\n         const firstFocusableEl = document.getElementById(\"closeDetails\"),\n            lastFocusableEl = document.querySelectorAll(\n               \".project-details.is-active .project-details__link\"\n            )[indexForLastLink - 1];\n         firstFocusableEl.focus();\n\n         function loopFocus(e) {\n            if (e.key === \"Tab\" || e.keyCode === 9) {\n               if (e.shiftKey && document.activeElement === firstFocusableEl) {\n                  e.preventDefault();\n                  lastFocusableEl.focus();\n               } else if (\n                  !e.shiftKey &&\n                  document.activeElement === lastFocusableEl\n               ) {\n                  e.preventDefault();\n                  firstFocusableEl.focus();\n               }\n            }\n         }\n\n         document\n            .querySelector(\".project-details\")\n            .addEventListener(\"keydown\", loopFocus);\n      },\n\n      bindUIActions: function () {\n         window.addEventListener(\"DOMContentLoaded\", function () {\n            document.body.classList.remove(\"preload\");\n         });\n\n         window.addEventListener(\"scroll\", function (e) {\n            let height =\n               document.documentElement.scrollHeight -\n               document.documentElement.clientHeight;\n            let winScroll =\n               document.body.scrollTop || document.documentElement.scrollTop;\n            s.navLine.style.width = (winScroll / height) * 100 + \"%\";\n         });\n\n         s.triggerMenu.addEventListener(\"click\", function () {\n            this.classList.toggle(\"is-active\");\n            s.navTab.classList.toggle(\"is-active\");\n         });\n\n         let tabs = document.querySelectorAll(\".navtab\");\n         for (let i = 0; i < tabs.length; i++) {\n            tabs[i].addEventListener(\"click\", function () {\n               let dataTab = this.getAttribute(\"data-tab\");\n               let element = document.querySelector(\n                  \"[data-content='\" + dataTab + \"']\"\n               );\n               let offset = s.header.offsetHeight - s.navTab.offsetHeight;\n               s.navTab.classList.remove(\"is-active\");\n               s.triggerMenu.classList.remove(\"is-active\");\n\n               const bodyRect = document.body.getBoundingClientRect().top;\n               const elementRect = element.getBoundingClientRect().top;\n               const elementPosition = elementRect - bodyRect;\n               let offsetPosition = elementPosition - offset;\n\n               if (window.innerWidth >= s.mobileBreakPoint) {\n                  offsetPosition = elementPosition;\n               }\n\n               window.scrollTo({\n                  top: offsetPosition,\n                  behavior: \"smooth\",\n               });\n            });\n         }\n\n         function triggerProjectModal(e) {\n            if (e.type === \"click\" || e.key === \"Enter\") {\n               s.previousActiveElement = document.activeElement;\n               app.openProject(this);\n            }\n         }\n\n         for (let i = 0; i < s.projectItems.length; i++) {\n            s.projectItems[i].addEventListener(\"click\", triggerProjectModal);\n            s.projectItems[i].addEventListener(\"keydown\", triggerProjectModal);\n         }\n\n         document\n            .getElementById(\"closeDetails\")\n            .addEventListener(\"click\", function () {\n               app.closeProjectDetails();\n            });\n\n         document.addEventListener(\"keydown\", function (e) {\n            if (\n               document\n                  .querySelector(\".project-details\")\n                  .classList.contains(\"is-active\") &&\n               e.key === \"Escape\"\n            ) {\n               app.closeProjectDetails();\n            }\n         });\n\n         document\n            .querySelector(\".overlay\")\n            .addEventListener(\"click\", function () {\n               app.closeProjectDetails();\n            });\n\n         app.validateContactForm();\n      },\n   };\n\n   return app;\n})();\n\napp.init();\n"],"names":["s","app","settings","header","document","querySelector","navTab","scrollDown","getElementById","contentTop","navLine","triggerMenu","projectItems","querySelectorAll","year","form","mobileBreakPoint","scrollAboveIntro","scrollBelowIntro","previousScrollPosition","previousActiveElement","init","this","innerHTML","Date","getFullYear","initFlickity","bindUIActions","Flickity","accessibility","adaptiveHeight","autoPlay","cellAlign","cellSelector","undefined","contain","draggable","dragThreshold","freeScroll","friction","groupCells","initialIndex","lazyLoad","percentPosition","prevNextButtons","pageDots","resize","rightToLeft","setGallerySize","watchCSS","wrapAround","validateContactForm","inputName","inputEmail","inputMessage","validName","validEmail","validMessage","addEventListener","e","keyCode","validInput","handleSubmitButtonAccess","handleContactFormSubmission","removeAttribute","setAttribute","valid","input","value","name","email","test","message","length","async","event","preventDefault","status","data","FormData","target","fetch","action","method","body","headers","Accept","then","response","reset","catch","error","closeProjectDetails","classList","remove","focus","respondToVisibility","element","callback","console","log","options","root","documentElement","IntersectionObserver","entries","observer","forEach","entry","intersectionRatio","observe","openProject","add","nextElementSibling","visible","setTimeout","trapFocusInModal","indexForLastLink","firstFocusableEl","lastFocusableEl","key","shiftKey","activeElement","window","height","scrollHeight","clientHeight","winScroll","scrollTop","style","width","toggle","tabs","i","dataTab","getAttribute","offset","offsetHeight","bodyRect","getBoundingClientRect","top","elementPosition","offsetPosition","innerWidth","scrollTo","behavior","triggerProjectModal","type","contains"],"sourceRoot":""}