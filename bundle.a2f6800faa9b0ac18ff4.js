(()=>{"use strict";var e,t;(t={settings:{header:document.querySelector(".header"),navTab:document.querySelector(".header__nav"),scrollDown:document.getElementById("scrollDown"),contentTop:document.querySelector(".content"),navLine:document.querySelector(".navigation-line"),triggerMenu:document.getElementById("triggerMenu"),projectItems:document.querySelectorAll(".content__overlay"),year:document.getElementById("year"),form:document.getElementById("contactForm"),mobileBreakPoint:768,scrollAboveIntro:!1,scrollBelowIntro:!1,previousScrollPosition:0,previousActiveElement:null},init:function(){(e=this.settings).year.innerHTML=(new Date).getFullYear(),this.bindUIActions()},validateContactForm:function(){let n=document.getElementById("name"),o=document.getElementById("email"),i=document.getElementById("message"),c=!1,a=!1,l=!1;n.addEventListener("change",(function(e){9!==e.keyCode&&16!==e.keyCode&&(c=t.validInput(t.validName,n),t.handleSubmitButtonAccess(c,a,l))})),o.addEventListener("change",(function(e){9!==e.keyCode&&16!==e.keyCode&&(a=t.validInput(t.validEmail,o),t.handleSubmitButtonAccess(c,a,l))})),i.addEventListener("input",(function(e){9!==e.keyCode&&16!==e.keyCode&&(l=t.validMessage(i),t.handleSubmitButtonAccess(c,a,l))})),e.form.addEventListener("submit",t.handleContactFormSubmission)},handleSubmitButtonAccess:function(e,t,n){e&&t&&n?document.getElementById("submitButton").removeAttribute("disabled"):document.getElementById("submitButton").setAttribute("disabled","disabled")},validInput:function(e,t){return!!e(t.value)},validName:function(e){return""!==e},validEmail:function(e){return/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i.test(e)},validMessage:function(e){return""!==e.value&&e.value.length>=10&&e.value.length<=400},handleContactFormSubmission:async function(t){t.preventDefault();var n=document.getElementById("formStatus"),o=new FormData(t.target);fetch(t.target.action,{method:e.form.method,body:o,headers:{Accept:"application/json"}}).then((t=>{n.innerHTML="Thanks for your submission!",e.form.reset()})).catch((e=>{n.innerHTML="Error! There was a problem submitting your form."}))},closeProjectDetails:function(){document.querySelector(".project-details").classList.remove("is-active"),document.querySelector(".overlay").classList.remove("is-active"),document.querySelector(".content__overlay.is-active").classList.remove("is-active"),e.previousActiveElement.focus()},openProject:function(e){e.classList.add("is-active"),document.querySelector(".project-details").classList.add("is-active"),document.querySelector(".overlay").classList.add("is-active"),document.querySelector(".project-details__text").innerHTML=e.nextElementSibling.innerHTML,setTimeout((function(){t.trapFocusInModal()}),0)},trapFocusInModal:function(){const e=document.querySelectorAll(".project-details.is-active .project-details__link").length,t=document.getElementById("closeDetails"),n=document.querySelectorAll(".project-details.is-active .project-details__link")[e-1];t.focus(),document.querySelector(".project-details").addEventListener("keydown",(function(e){"Tab"!==e.key&&9!==e.keyCode||(e.shiftKey&&document.activeElement===t?(e.preventDefault(),n.focus()):e.shiftKey||document.activeElement!==n||(e.preventDefault(),t.focus()))}))},bindUIActions:function(){window.addEventListener("DOMContentLoaded",(function(){document.body.classList.remove("preload")})),window.addEventListener("scroll",(function(t){let n=document.documentElement.scrollHeight-document.documentElement.clientHeight,o=document.body.scrollTop||document.documentElement.scrollTop;e.navLine.style.width=o/n*100+"%"})),e.triggerMenu.addEventListener("click",(function(){this.classList.toggle("is-active"),e.navTab.classList.toggle("is-active")}));let n=document.querySelectorAll(".navtab");for(let t=0;t<n.length;t++)n[t].addEventListener("click",(function(){let t=this.getAttribute("data-tab"),n=document.querySelector("[data-content='"+t+"']"),o=e.header.offsetHeight-e.navTab.offsetHeight;e.navTab.classList.remove("is-active"),e.triggerMenu.classList.remove("is-active");const i=document.body.getBoundingClientRect().top,c=n.getBoundingClientRect().top-i;let a=c-o;window.innerWidth>=e.mobileBreakPoint&&(a=c),window.scrollTo({top:a,behavior:"smooth"})}));function o(n){"click"!==n.type&&"Enter"!==n.key||(e.previousActiveElement=document.activeElement,t.openProject(this))}for(let t=0;t<e.projectItems.length;t++)e.projectItems[t].addEventListener("click",o),e.projectItems[t].addEventListener("keydown",o);document.getElementById("closeDetails").addEventListener("click",(function(){t.closeProjectDetails()})),document.addEventListener("keydown",(function(e){document.querySelector(".project-details").classList.contains("is-active")&&"Escape"===e.key&&t.closeProjectDetails()})),document.querySelector(".overlay").addEventListener("click",(function(){t.closeProjectDetails()})),t.validateContactForm()}},t).init()})();
//# sourceMappingURL=bundle.a2f6800faa9b0ac18ff4.js.map